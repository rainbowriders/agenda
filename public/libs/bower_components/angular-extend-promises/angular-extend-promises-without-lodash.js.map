{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f950e7dd742b9441b118","webpack:///./src/index.js","webpack:///./src/globals.js","webpack:///./src/newq/index.js","webpack:///./src/_.js","webpack:///./src/newq/errors.js","webpack:///./src/newq/all.js","webpack:///./src/newq/any.js","webpack:///./src/newq/bind.js","webpack:///./src/newq/defer.js","webpack:///./src/newq/each.js","webpack:///./src/newq/filter.js","webpack:///./src/newq/map.js","webpack:///./src/newq/join.js","webpack:///./src/newq/method.js","webpack:///./src/newq/props.js","webpack:///./src/newq/reduce.js","webpack:///./src/newq/reject.js","webpack:///./src/newq/resolve.js","webpack:///./src/newq/some.js","webpack:///./src/newq/when.js","webpack:///./src/newq/try.js","webpack:///external \"../tmp/lodash\"","webpack:///./src/promise/decorate.js","webpack:///./src/newq/walkCollection.js","webpack:///./src/newq/autoDecorate.js","webpack:///./src/promise/callNewQ.js","webpack:///./src/defineProperty.js","webpack:///./src/promise/bind.js","webpack:///./src/promise/call.js","webpack:///./src/promise/catch.js","webpack:///./src/promise/delay.js","webpack:///./src/promise/done.js","webpack:///./src/promise/get.js","webpack:///./src/promise/nodeify.js","webpack:///./src/promise/return.js","webpack:///./src/promise/spread.js","webpack:///./src/promise/tap.js","webpack:///./src/promise/then.js","webpack:///./src/promise/throw.js","webpack:///./src/promise/timeout.js","webpack:///./src/newq/gate.js","webpack:///./src/promise/bindMethods.js"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA,0EAA0E,MAAM,iCAAiC,EAAE,YAAY,EAAE;AACjI;AACA;AACA;AACA,8FAA8F,MAAM,iCAAiC,EAAE,YAAY,EAAE;AACrJ;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,MAAK;AACL,IAAG;;AAEH;;;;;;;ACjCA;;AAEA;;AAEA;AACA;AACA,gBAAe;AACf;AACA,EAAC;;;;;;;ACRD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH;;;;;;;ACrDA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACTA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;AC1CA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;;;;;;AChBA;;AAEA;;AAEA;AACA;AACA;;;;;;;ACNA;;AAEA;;AAEA;AACA;AACA;;;;;;;ACNA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACbA;;AAEA;;AAEA;;;;;;;ACJA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,MAAK;AACL;AACA;;;;;;;AChBA;;AAEA;;AAEA;;;;;;;ACJA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACTA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACRA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;;;;;;ACTA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;;;;;;;ACXA;;AAEA;;AAEA;;;;;;;ACJA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACVA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;;AAEH;AACA;;;;;;;ACjDA;;AAEA;;AAEA;;;;;;;ACJA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACfA,4DAA2D,0DAA0D,6BAA6B;AAClJ,iD;;;;;;ACDA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH,EAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA,EAAC;;;;;;;ACjFD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACrCA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACTA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;;;;;;AC7CA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACdA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;;;ACPA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;;;;;;ACXA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;AACH;;;;;;;ACjCA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;;;;;;ACVA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;;;;;;;AChBA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;;;;;;ACNA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;;;;;;AC5BA;;AAEA;;AAEA;AACA;AACA;;;;;;;ACNA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;;;;;;;ACZA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;;;;;;ACTA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACTA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;;;;;;ACRA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;;AAEA;AACA;;;;;;;ACrBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;;;;;;;ACxCA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH","file":"angular-extend-promises-without-lodash.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory((function webpackLoadOptionalExternalModule() { try { return require(\"../tmp/lodash\"); } catch(e) {} }()));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"../tmp/lodash\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"angular-extend-promises\"] = factory((function webpackLoadOptionalExternalModule() { try { return require(\"../tmp/lodash\"); } catch(e) {} }()));\n\telse\n\t\troot[\"angular-extend-promises\"] = factory(root[\"../tmp/lodash\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_21__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f950e7dd742b9441b118\n **/","'use strict';\n\nangular.module('angular-extend-promises', [])\n\n  .provider('angularExtendPromises', function() {\n    this.options = {\n      compatibilityAliases: true,\n      disableES5Methods: false\n    };\n\n    this.$get = function() {\n      return this.options;\n    };\n  })\n\n  .config(['$provide', function($provide) {\n    // In test mode, empty the cache before doing anything else\n    if (angular.mock) {\n      for (var key in require.cache) {\n        delete require.cache[key];\n      }\n    }\n\n    $provide.decorator('$q', ['$delegate', 'angularExtendPromises', function($delegate, angularExtendPromises) {\n      var globals = require('./globals');\n\n      globals.$delegate = $delegate;\n      globals.$options = angularExtendPromises;\n\n      return require('./newq');\n    }]);\n  }])\n\n;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('./_');\n\n_.extend(module.exports, {\n  $defer: _.noop(),\n  $delegate: {},\n  $options: {}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/globals.js\n ** module id = 1\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\nvar globals = require('../globals');\nvar errors = require('./errors');\n\nvar newq = module.exports = function(resolver) {\n  if (!_.isFunction(resolver))\n    throw new Error('resolver should be a function');\n\n  var deferred = newq.defer();\n  try {\n    resolver(deferred.resolve, deferred.reject);\n  }\n  catch (e) {\n    deferred.reject(e);\n  }\n  return deferred.promise;\n};\n\n_.extend(newq, {\n  // Methods & aliases\n  all: require('./all'),\n  any: require('./any'),\n  bind: require('./bind'),\n  defer: require('./defer'),\n  each: require('./each'),\n  filter: require('./filter'),\n  map: require('./map'),\n  join: require('./join'),\n  method: require('./method'),\n  props: require('./props'),\n  reduce: require('./reduce'),\n  reject: require('./reject'),\n  resolve: require('./resolve'),\n  some: require('./some'),\n  when: require('./when'),\n\n  // Errors\n  AggregateError: errors.AggregateError,\n  TimeoutError: errors.TimeoutError\n});\n\nif (globals.$options.compatibilityAliases) {\n  _.extend(newq, {\n    attempt: require('./try')\n  });\n}\n\nif (!globals.$options.disableES5Methods) {\n  _.extend(newq, {\n    'try': require('./try')\n  });\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/index.js\n ** module id = 2\n ** module chunks = 0\n **/","'use strict';\n\n/* global _ */\n\ntry {\n  module.exports = require('../tmp/lodash');\n}\ncatch (e) {\n  module.exports = _;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/_.js\n ** module id = 3\n ** module chunks = 0\n **/","'use strict';\n\nvar NewQError = module.exports.NewQError = function NewQError(message) {\n  this.name = this.constructor.name;\n  Error.apply(this, arguments);\n  this.message = message;\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(this, this.constructor);\n  else\n    this.stack = (new Error()).stack;\n};\n\nNewQError.prototype.toString = function() {\n    return this.stack.toString();\n};\n\nNewQError.subError = function subError(SubError, Parent) {\n  Parent = Parent || NewQError;\n\n  function F() {}\n  F.prototype = Parent.prototype;\n  SubError.prototype = new F();\n  SubError.prototype.constructor = SubError;\n\n  if (SubError.subError)\n    return;\n\n  SubError.subError = function subError(SubSubError) {\n    NewQError.subError(SubSubError, SubError);\n  };\n};\n\nNewQError.subError(NewQError, Error);\n\nvar AggregateError = module.exports.AggregateError = function AggregateError() {\n  NewQError.apply(this, arguments);\n};\nNewQError.subError(AggregateError);\n\nvar TimeoutError = module.exports.TimeoutError = function TimeoutError() {\n  NewQError.apply(this, arguments);\n};\nNewQError.subError(TimeoutError);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/errors.js\n ** module id = 4\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\nvar decorate = require('../promise/decorate');\nvar globals = require('../globals');\nvar newq = require('./');\n\nmodule.exports = function(promises) {\n  if (!_.isArray(promises))\n    return newq.props(promises);\n\n  promises = _.map(promises, function(promise) {\n    return newq.when(promise);\n  });\n\n  return decorate(globals.$delegate.all(promises));\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/all.js\n ** module id = 5\n ** module chunks = 0\n **/","'use strict';\n\nvar newq = require('./');\n\nmodule.exports = function(array) {\n  return newq.some(array, 1).get(0);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/any.js\n ** module id = 6\n ** module chunks = 0\n **/","'use strict';\n\nvar newq = require('./');\n\nmodule.exports = function(oThis) {\n  return newq.resolve().bind(oThis);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/bind.js\n ** module id = 7\n ** module chunks = 0\n **/","'use strict';\n\nvar decorate = require('../promise/decorate');\nvar globals = require('../globals');\n\nglobals.$defer = function $defer(parent) {\n  var deferred = globals.$delegate.defer();\n  deferred.promise = decorate(deferred.promise, parent);\n  return deferred;\n};\n\nmodule.exports = function defer() {\n  return globals.$defer();\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/defer.js\n ** module id = 8\n ** module chunks = 0\n **/","'use strict';\n\nvar walkCollection = require('./walkCollection');\n\nmodule.exports = walkCollection('tap');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/each.js\n ** module id = 9\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\nvar newq = require('./');\n\nmodule.exports = function(array, cb, options) {\n  return newq.map(array, function(val) {\n    return newq.props({\n      val: val,\n      toFilter: cb.apply(null, arguments)\n    });\n  }, options)\n    .then(function(array) {\n      return _.map(_.filter(array, 'toFilter'), 'val');\n    })\n  ;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/filter.js\n ** module id = 10\n ** module chunks = 0\n **/","'use strict';\n\nvar walkCollection = require('./walkCollection');\n\nmodule.exports = walkCollection('then');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/map.js\n ** module id = 11\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\nvar newq = require('./');\n\nmodule.exports = function join() {\n  var args = _.toArray(arguments);\n  var cb = args.pop();\n  return newq.all(args).spread(cb);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/join.js\n ** module id = 12\n ** module chunks = 0\n **/","'use strict';\n\nvar attempt = require('./try');\n\nmodule.exports = function(fn) {\n  return function() {\n    return attempt(fn, arguments, this);\n  };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/method.js\n ** module id = 13\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\nvar newq = require('./');\n\nmodule.exports = function(obj) {\n  return newq.all(_.values(obj)).then(function(vals) {\n    return _.object(_.keys(obj), vals);\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/props.js\n ** module id = 14\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\nvar newq = require('./');\n\nmodule.exports = function(array, cb, initialValue) {\n  return _.reduce(array, function(acc, val, i) {\n    return newq.join(acc, val, function(acc, val) {\n      return cb(acc, val, i, array.length);\n    });\n  }, newq.resolve(initialValue));\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/reduce.js\n ** module id = 15\n ** module chunks = 0\n **/","'use strict';\n\nvar autoDecorate = require('./autoDecorate');\n\nmodule.exports = autoDecorate('reject');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/reject.js\n ** module id = 16\n ** module chunks = 0\n **/","'use strict';\n\nvar newq = require('./');\nvar autoDecorate = require('./autoDecorate');\n\n// depending Angular's version, $q.resolve might not exist\nmodule.exports = autoDecorate('resolve') || function(val) {\n  var def = newq.defer();\n  def.resolve(val);\n  return def.promise;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/resolve.js\n ** module id = 17\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\nvar newq = require('./');\nvar AggregateError = require('./errors').AggregateError;\n\nmodule.exports = function(array, count) {\n  if (array.length < count) {\n    return newq.reject(new AggregateError(\n      'initial array length (' + array.length + ') > count (' + count + ')'\n    ));\n  }\n\n  var rejectedCount = 0;\n  var res = [];\n  var def = newq.defer();\n\n  _.each(array, function(elt) {\n    newq.when(elt)\n      .tap(function(val) {\n        if (res === null)\n          return;\n\n        res.push(val);\n\n        // resolve when we have enough fulfilled elements\n        if (res.length >= count) {\n          def.resolve(res);\n          res = null;\n        }\n      })\n      .$$catch(function() {\n        if (res === null)\n          return;\n\n        ++rejectedCount;\n\n        // reject if objective cannot be fulfilled\n        if (array.length - rejectedCount < count) {\n          def.reject(new AggregateError(\n            'Cannot resolve promise: too many rejections (' + rejectedCount + ')'\n          ));\n          res = null;\n        }\n      })\n    ;\n  });\n\n  return def.promise;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/some.js\n ** module id = 18\n ** module chunks = 0\n **/","'use strict';\n\nvar autoDecorate = require('./autoDecorate');\n\nmodule.exports = autoDecorate('when');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/when.js\n ** module id = 19\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\nvar newq = require('./');\n\nmodule.exports = function(fn, args, oThis) {\n  try {\n    if (!_.isEmpty(args) && !(_.isArray(args) || _.isArguments(args)))\n      args = [args];\n\n    return newq.when(fn.apply(oThis || this, args));\n  }\n  catch (err) {\n    return newq.reject(err);\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/try.js\n ** module id = 20\n ** module chunks = 0\n **/","if(typeof __WEBPACK_EXTERNAL_MODULE_21__ === 'undefined') {var e = new Error(\"Cannot find module \\\"../tmp/lodash\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_21__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"../tmp/lodash\"\n ** module id = 21\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\nvar globals = require('../globals');\nvar callNewQ = require('./callNewQ');\nvar defineProperty = require('../defineProperty');\n\nvar aliases = {\n  'catch': 'caught',\n  'finally': 'lastly',\n  'return': ['thenReturn', 'returns'],\n  'throw': ['thenThrow']\n};\n\nfunction Promise($qPromise, parent) {\n  defineProperty(this, '$$state', $qPromise.$$state);\n\n  _.each(_.methods($qPromise), function(name) {\n    defineProperty(this, '$$' + name, $qPromise[name]);\n  }, this);\n\n  if (parent && parent.$$boundTo)\n    defineProperty(this, '$$boundTo', parent.$$boundTo);\n\n  defineProperty(this, '$$arrayListeners', []);\n\n  this.then = $qPromise.then = this.then.bind(this);\n}\n\nmodule.exports = function decorate($qPromise, parent) {\n  return new Promise($qPromise, parent);\n};\n\nPromise.prototype = {\n  // call newQ.all if unsynced, does nothing otherwise\n  all: callNewQ('all'),\n  any: callNewQ('any'),\n  bind: require('./bind'),\n  call: require('./call'),\n  'catch': require('./catch'),\n  delay: require('./delay'),\n  done: require('./done'),\n  each: callNewQ('each'),\n  filter: callNewQ('filter'),\n  'finally': function() {\n    return this.$$finally.apply(this, arguments);\n  },\n  get: require('./get'),\n  map: callNewQ('map'),\n  nodeify: require('./nodeify'),\n  props: callNewQ('props'),\n  reduce: callNewQ('reduce'),\n  'return': require('./return'),\n  some: callNewQ('some'),\n  spread: require('./spread'),\n  tap: require('./tap'),\n  then: require('./then'),\n  'throw': require('./throw'),\n  timeout: require('./timeout'),\n\n  constructor: Promise\n};\n\ndefineProperty(Promise.prototype, '$$callArrayListeners', function(array) {\n  _.each(this.$$arrayListeners, function(listener) {\n    listener(array);\n  });\n});\n\n_.each(aliases, function(targets, method) {\n  if (!_.isArray(targets))\n    targets = [targets];\n\n  if (globals.$options.compatibilityAliases) {\n    _.each(targets, function(target) {\n      Promise.prototype[target] = Promise.prototype[method];\n    });\n  }\n\n  if (globals.$options.disableES5Methods)\n    delete Promise.prototype[method];\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/decorate.js\n ** module id = 22\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\nvar newq = require('./');\nvar Gate = require('./gate');\nvar defineProperty = require('../defineProperty');\n\nmodule.exports = function walkCollection(promiseFn) {\n  return function(array, cb, options) {\n    options = _.pick(options, 'concurrency');\n\n    var gate = options.concurrency ? new Gate(options) : {\n      add: function(fn) {\n        return fn();\n      }\n    };\n\n    // create an array with each promises affected by the operation\n    var $$unsynced = _.map(array, function(val, i) {\n      // return a new promise for each item\n      return newq.when(val)[promiseFn](function(val) {\n        return gate.add(function() {\n          // call user callback\n          return newq.when(cb.call(null, val, i, array.length));\n        });\n      });\n    });\n\n    // create a promise synchronizing everything\n    var res = newq.all($$unsynced);\n\n    // save the unsynced array of promises in the result\n    defineProperty(res, '$$unsynced', $$unsynced);\n\n    // return the promise\n    return res;\n  };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/walkCollection.js\n ** module id = 23\n ** module chunks = 0\n **/","'use strict';\n\nvar decorate = require('../promise/decorate');\nvar globals = require('../globals');\n\nmodule.exports = function autoDecorate(name) {\n  return !(name in globals.$delegate) ? null : function() {\n    return decorate(globals.$delegate[name].apply(globals.$delegate, arguments));\n  };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/autoDecorate.js\n ** module id = 24\n ** module chunks = 0\n **/","'use strict';\n\nvar bindMethods = require('./bindMethods');\nvar newQ = require('../newq');\nvar defineProperty = require('../defineProperty');\n\nmodule.exports = function callNewQ(method) {\n  /* jshint -W040 */\n  function execute(args, arr) {\n    var res = newQ[method].apply(null, [arr].concat(args));\n    defineProperty(res, '$$boundTo', this.$$boundTo);\n    return res;\n  }\n  /* jshint +W040 */\n\n  return function() {\n    var args = bindMethods.call(this, arguments);\n\n    // chain if not synced\n    if (this.$$unsynced) {\n      // create new promise with next($$unsynced, argsâ€¦)\n      return execute.call(this, args, this.$$unsynced);\n    }\n\n    var then = this.then(function(val) {\n      if (then.$$promiseResult)\n        return then.$$promiseResult;\n\n      var res = execute.call(this, args, val);\n\n      if (then.$$arrayListeners.length && res.$$unsynced)\n        then.$$callArrayListeners(res.$$unsynced);\n\n      return res;\n    }.bind(this));\n\n    this.$$arrayListeners.push(function(array) {\n      defineProperty(this, '$$promiseResult', execute.call(this, args, array));\n\n      if (then.$$arrayListeners.length && this.$$promiseResult.$$unsynced)\n        then.$$callArrayListeners(this.$$promiseResult.$$unsynced);\n    }.bind(this));\n\n    return then;\n  };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/callNewQ.js\n ** module id = 25\n ** module chunks = 0\n **/","'use strict';\n\nmodule.exports = function defineProperty(obj, name, value) {\n  if (Object.defineProperty) {\n    try {\n      Object.defineProperty(obj, name, {\n        value: value\n      });\n    }\n    catch (e) {}\n  }\n\n  if (obj[name] !== value)\n    obj[name] = value;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/defineProperty.js\n ** module id = 26\n ** module chunks = 0\n **/","'use strict';\n\nvar defineProperty = require('../defineProperty');\n\nmodule.exports = function(bound) {\n  defineProperty(this, '$$boundTo', bound);\n  return this;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/bind.js\n ** module id = 27\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\n\nmodule.exports = function() {\n  var args = _.toArray(arguments);\n  var method = args.shift();\n\n  return this.then(function(val) {\n    return val[method].apply(val, args);\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/call.js\n ** module id = 28\n ** module chunks = 0\n **/","'use strict';\n\nvar newq = require('../newq');\nvar _ = require('../_');\n\nfunction checkErrorsAndPredicates(errorsAndPredicates, err) {\n  var any = !errorsAndPredicates.length;\n  _.each(errorsAndPredicates, function(test) {\n    if (!_.isFunction(test))\n      throw new Error('Invalid argument.');\n\n    if (test instanceof Error || test.prototype instanceof Error) {\n      any = any || err instanceof test;\n\n      return !any;\n    }\n\n    any = any || test(err);\n    return !any;\n  });\n  return any;\n}\n\nmodule.exports = function() {\n  var errorsAndPredicates = _.toArray(arguments);\n  var callback = errorsAndPredicates.pop();\n\n  return this.$$catch(function(err) {\n    if (!_.isFunction(callback) || !checkErrorsAndPredicates(errorsAndPredicates, err))\n      return newq.reject(err);\n\n    return callback.call(this, err);\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/catch.js\n ** module id = 29\n ** module chunks = 0\n **/","'use strict';\n\nvar globals = require('../globals');\n\nmodule.exports = function(ms) {\n  return this.then(function(val) {\n    var def = globals.$defer(this);\n    setTimeout(def.resolve, ms, val);\n    return def.promise;\n  }.bind(this));\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/delay.js\n ** module id = 30\n ** module chunks = 0\n **/","'use strict';\n\nvar newQ = require('../newq');\n\nmodule.exports = function() {\n  return this\n    .then.apply(this, arguments)\n    .$$catch(function(err) {\n      setTimeout(function() {\n        throw err;\n      });\n    })\n    .$$finally(function() {\n      return newQ.reject(new Error('Do not chain anything after calling done()!'));\n    })\n  ;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/done.js\n ** module id = 31\n ** module chunks = 0\n **/","'use strict';\n\nmodule.exports = function(prop) {\n  return this.then(function(val) {\n    return val[prop];\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/get.js\n ** module id = 32\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\nvar newq = require('../newq');\n\nmodule.exports = function(cb, options) {\n  cb = cb || _.noop;\n  options = options || {};\n\n  return this.then(\n    function(args) {\n      var a = args;\n\n      if (!options.spread || !_.isArray(a))\n        a = [null, a];\n      else\n        a = [null].concat(a);\n\n      cb.apply(this, a);\n\n      return args;\n    },\n\n    function(err) {\n      cb.call(this, err);\n      return newq.reject(err);\n    }\n  );\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/nodeify.js\n ** module id = 33\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\n\nmodule.exports = function(val) {\n  return this.then(_.constant(val));\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/return.js\n ** module id = 34\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\n\nmodule.exports = function(fn) {\n  return this.then(function(value) {\n    // given value might not be an array\n    if (!_.isArray(value))\n      value = [value];\n\n    return fn.apply(this, value);\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/spread.js\n ** module id = 35\n ** module chunks = 0\n **/","'use strict';\n\nvar newQ = require('../newq');\n\nmodule.exports = function(fn) {\n  return this.then(function(value) {\n    // returns only when fn(value) promise chain is fully resolved\n    return newQ.when(fn.call(this, value)).returns(value);\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/tap.js\n ** module id = 36\n ** module chunks = 0\n **/","'use strict';\n\nvar bindMethods = require('./bindMethods');\nvar decorate = require('./decorate');\n\n// Then is special because it needs the previous then to work\nmodule.exports = function() {\n  // convert the promise to newQ\n  return decorate(this.$$then.apply(this, bindMethods.call(this, arguments)), this);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/then.js\n ** module id = 37\n ** module chunks = 0\n **/","'use strict';\n\nvar newq = require('../newq');\n\nmodule.exports = function(err) {\n  return this.then(function() {\n    return newq.reject(err);\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/throw.js\n ** module id = 38\n ** module chunks = 0\n **/","'use strict';\n\nvar globals = require('../globals');\nvar newq = require('../newq');\n\nmodule.exports = function(ms, msg) {\n  var def = globals.$defer(this);\n  var to = setTimeout(function() {\n    def.reject(new newq.TimeoutError(msg || 'Timed out after ' + ms + ' ms'));\n  }, ms);\n\n  this\n    .then(function(val) {\n      def.resolve(val);\n    }, function(err) {\n      def.reject(err);\n    })\n    ['finally'](clearTimeout.bind(null, to))\n  ;\n\n  return def.promise;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/timeout.js\n ** module id = 39\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\nvar globals = require('../globals');\n\nvar Gate = module.exports = function Gate(options) {\n  this.$options = _.defaults(options, {\n    concurrency: 1,\n    maxQueue: 0\n  });\n  this.$fns = [];\n};\n\nGate.prototype.add = function(fn) {\n  // if (this.$options.maxQueue > 0 && this.$fns.length - this.$options.concurrency >= this.$options.maxQueue)\n  //     return def.reject(new Error('Max queue size reached'));\n\n  var def = globals.$defer();\n\n  var $fn = function() {\n    fn()\n      ['finally'](function() {\n        this.$fns.splice(this.$fns.indexOf($fn), 1);\n\n        if (this.$fns.length >= this.$options.concurrency)\n          this.$fns[this.$options.concurrency - 1]();\n      }.bind(this))\n\n      .then(function(val) {\n        def.resolve(val);\n      }, function(err) {\n        def.reject(err);\n      })\n    ;\n  }.bind(this);\n\n  if (this.$fns.push($fn) <= this.$options.concurrency)\n    $fn();\n\n  return def.promise;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/newq/gate.js\n ** module id = 40\n ** module chunks = 0\n **/","'use strict';\n\nvar _ = require('../_');\n\nmodule.exports = function bindMethods(array) {\n  return _.map(array, function(arg) {\n    if (!_.isFunction(arg))\n      return arg;\n    return arg.bind(this.$$boundTo || this);\n  }, this);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/promise/bindMethods.js\n ** module id = 41\n ** module chunks = 0\n **/"],"sourceRoot":""}